<ion-header>
	<app-header [title]="pageTitle"></app-header>
</ion-header>
<ion-content *ngIf="dataList?.title">
	<!-- top bar content -->
	<div class="content-header">
		<div class="row justify-content-between ion-align-items-center">
			<div class="col-lg-auto">
				<div class="page-info">
					<h1 class="title">جزییات قرار داد {{ dataList?.title }}</h1>
					<p class="dsec">
						قرار داد {{ dataList?.business_info.name }} ({{ dataList?.business_info.category }})
					</p>
				</div>
			</div>
			<div class="col-lg-auto">
				<ion-button shape="round" [routerLink]="['/contracts/print/'+dataList.id]" color="success" *ngIf="global.userPermision['contract_print']">
					<ion-icon slot="start" name="print"></ion-icon>
					پرینت
				</ion-button>
				<ion-button shape="round" [routerLink]="['/contracts/edit/'+dataList.id]" color="secondary" *ngIf="global.userPermision['contract_edit']">
					<ion-icon slot="start" name="create"></ion-icon>
					ویرایش قرار داد
				</ion-button>

			</div>
		</div>
	</div>
	<!-- main -->
	<main>
		<!-- کارگران -->
		<section>
			<div class="container">
				<div class="row align-items-center justify-content-between mt-4">
					<div class="col-md-auto">
						<div class="title-1">
							<h2 class="title">کارفرما</h2>
						</div>
					</div>
				</div>
				<!-- list of employee -->
				<div class="row my-3">
					<div class="col-lg-6 mb-3">
						<app-employer-card [employer]="dataList?.employer_info"></app-employer-card>
					</div>
				</div>

			</div>
		</section>
		<hr>
		<!-- کارمندان -->
		<section class="mt-3">
			<div class="container">
				<!-- title -->
				<div class="row align-items-center justify-content-between mt-4">
					<div class="col-md-auto">
						<div class="title-1 ">
							<h2 class="title">لیست کارمندان در قرار داد</h2>
						</div>
					</div>
				</div>

				<!-- list of employee -->
				<div class="row my-3" *ngIf="dataList?.employee_info">
					<div class="col-lg-6 mb-4" *ngFor="let item of dataList?.employee_info">
						<app-employee-card [employee]="item"></app-employee-card>
					</div>
				</div>

			</div>
			<!-- end title -->
		</section>
		<!--  -->
		<hr>
		<!-- info -->
		<section class="mt-3">
			<div class="container">
				<div class="col-md-auto">
					<div class="title-1 ">
						<h2 class="title">اطلاعات قرار داد</h2>
					</div>
				</div>
				<div class="row">
					<!-- اطلاعات حقوق و دستمزد قرار داد -->
					<div class="col-lg-6">
						<!--  -->
						<ion-list class="full-info">
							<ion-list-header>اطلاعات حقوق و دستمزد قرار داد</ion-list-header>
							<ion-item lines="full" color="white">
								<ion-label>
									<h2 class="value">{{ dataList?.wage ?? 0 | number }} ریال</h2>
									<p class="title">دستمزد روزانه</p>
								</ion-label>
							</ion-item>
							<ion-item lines="full" color="white">
								<ion-label>
									<h2 class="value">{{ dataList?.monthly_bonus ?? 0 | number }} ریال</h2>
									<p class="title">پاداش ماهانه</p>
								</ion-label>
							</ion-item>
							<ion-item lines="full" color="white">
								<ion-label>
									<h2 class="value">{{ dataList?.monthly_new_year_gift ?? 0 | number }} ریال</h2>
									<p class="title">عیدی به صورت ماهانه</p>
								</ion-label>
							</ion-item>
							<ion-item lines="full" color="white">
								<ion-label>
									<h2 class="value">{{ dataList?.monthly_severance_pay ?? 0 | number }} ریال</h2>
									<p class="title">حق سنوات ماهانه</p>
								</ion-label>
							</ion-item>
							<ion-item lines="full" color="white">
								<ion-label>
									<h2 class="value">{{ dataList?.day_count }} روز</h2>
									<p class="title">تعداد روز قرار داد</p>
								</ion-label>
							</ion-item>
							<ion-item lines="full" color="white">
								<ion-label>
									<h2 class="value">{{ dataList?.children_allowance ?? 0 | number }} ریال</h2>
									<p class="title">حق اولاد (برای یک فرزند)</p>
								</ion-label>
							</ion-item>
							<ion-item lines="full" color="white" *ngIf="dataList?.contract_year">
								<ion-label>
									<h2 class="value">سال {{ dataList?.contract_year }} </h2>
									<p class="title">سال عقد قرار داد</p>
								</ion-label>
							</ion-item>
							<ion-item lines="full" color="white" *ngIf="dataList?.end_date">
								<ion-label>
									<h2 class="value">{{ dataList?.end_date }}</h2>
									<p class="title">زمان پایان قرارداد</p>
								</ion-label>
							</ion-item>
							<ion-item lines="full" color="white" *ngIf="dataList?.start_date">
								<ion-label>
									<h2 class="value">{{ dataList?.start_date }}</h2>
									<p class="title">زمان شروع به کار</p>
								</ion-label>
							</ion-item>
							<ion-item lines="full" color="white">
								<ion-label>
									<h2 class="value">{{ dataList?.food_cost ?? 0 | number }} ریال</h2>
									<p class="title">هزینه ی غذا</p>
								</ion-label>
							</ion-item>
							<ion-item lines="full" color="white">
								<ion-label>
									<h2 class="value">{{ dataList?.grocery_allowance ?? 0 | number }} ریال</h2>
									<p class="title">حق بن</p>
								</ion-label>
							</ion-item>
							<ion-item lines="full" color="white">
								<ion-label>
									<h2 class="value">{{ dataList?.housing_allowance ?? 0 | number }} ریال</h2>
									<p class="title">حق مسکن</p>
								</ion-label>
							</ion-item>
							<ion-item lines="full" color="white" *ngIf="dataList?.month_count">
								<ion-label>
									<h2 class="value">{{ dataList?.month_count }} ماه</h2>
									<p class="title">ماه های موجود در قرار داد</p>
								</ion-label>
							</ion-item>
						</ion-list>

					</div>
					<!-- محاسبات قرار داد -->
					<div class="col-lg-6">
						<ion-list class="full-info">
							<ion-list-header>محاسبات قرار داد</ion-list-header>
							<ion-item lines="full" color="white">
								<ion-label>
									<h2 class="value">{{ dataList?.calc_bonus_monthly ? 'فعال' : 'غیرفعال' }}</h2>
									<p class="title">محاسبه پاداش به صورت ماهانه</p>
								</ion-label>
							</ion-item>
							<ion-item lines="full" color="white">
								<ion-label>
									<h2 class="value">{{ dataList?.calc_new_year_gift_monthly ? 'فعال' : 'غیرفعال' }}
									</h2>
									<p class="title">محاسبه عیدی به صورت ماهانه</p>
								</ion-label>
							</ion-item>
							<ion-item lines="full" color="white">
								<ion-label>
									<h2 class="value">{{ dataList?.calc_severance_base ? 'فعال' : 'غیرفعال' }}</h2>
									<p class="title">محاسبه پایه سنوات</p>
								</ion-label>
							</ion-item>
							<ion-item lines="full" color="white">
								<ion-label>
									<h2 class="value">{{ dataList?.calc_severance_pay_monthly ? 'فعال' : 'غیرفعال' }}
									</h2>
									<p class="title">محاسبه حق سنوات به صورت ماهانه</p>
								</ion-label>
							</ion-item>
							<ion-item lines="full" color="white">
								<ion-label>
									<h2 class="value">{{ dataList?.is_contract_for_future ? 'فعال' : 'غیرفعال' }}</h2>
									<p class="title">قرارداد مربوط به آینده است</p>
								</ion-label>
							</ion-item>
							<ion-item lines="full" color="white">
								<ion-label>
									<h2 class="value">{{ dataList?.is_hourly_contract ? 'فعال' : 'غیرفعال' }}</h2>
									<p class="title">محاسبه قرار داد به صورت ساعتی</p>
								</ion-label>
							</ion-item>
							<ion-item lines="full" color="white">
								<ion-label>
									<h2 class="value">{{ dataList?.is_manual ? 'فعال' : 'غیرفعال' }}</h2>
									<p class="title">محاسبات به صورت دستی بوده</p>
								</ion-label>
							</ion-item>
						</ion-list>
						<!-- دیگر فیلد ها -->
						<ion-list class="full-info" *ngIf="contractExtraFieldList?.length">
							<ion-list-header>دیگر فیلد ها</ion-list-header>
							<ion-item lines="full" color="white" *ngFor="let item of dataList?.extra_fields">
								<ion-label>
									<h2 class="value">{{ item.price ?? 0 | number }} ریال</h2>
									<p class="title" [innerText]="returnNameExtraField(item?.contract_extra_field_id)">
										{{ item?.contract_extra_field_id }}</p>
								</ion-label>
							</ion-item>
						</ion-list>
					</div>
				</div>
			</div>
		</section>
		<!--  -->
		<hr>
		<section>
			<div class="container">
				<!-- متن -->
				<ion-list>
					<ion-list-header>متن قرار داد</ion-list-header>
					<ion-card class="mb-4" color="white">
						<ion-card-content>
							<div class="inner-html-dev" [innerHTML]="dataList?.main_text"></div>
						</ion-card-content>
					</ion-card>
				</ion-list>
				<!-- شروط -->
				<ion-list>
					<ion-list-header>شروط ضمن عقد قرار داد</ion-list-header>
					<ion-card class="mb-4" color="white" *ngFor="let item of dataList?.provisos">
						<ion-card-content>
							<div class="inner-html-dev" [innerHTML]="item.proviso_text"></div>
						</ion-card-content>
					</ion-card>
				</ion-list>

				<!-- پایان -->
				<ion-list>
					<ion-list-header>متن پایانی قرار داد</ion-list-header>
					<ion-card class="mb-4" color="white">
						<ion-card-content>
							<div class="inner-html-dev" [innerHTML]="dataList?.end_text"></div>
						</ion-card-content>
					</ion-card>
				</ion-list>
			</div>
		</section>
	</main>
	<!-- end main -->
</ion-content>
